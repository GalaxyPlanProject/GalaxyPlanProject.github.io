(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1059:function(t,e,s){"use strict";s.r(e),function(t){s.d(e,"default",(function(){return m}));var i=s(164),a=s.n(i),n=s(1060),c=s.n(n),o=s(433),r=s.n(o),d=(s(169),s(53)),l=s(289),h=s(0),u=(s(1065),s(11));class m extends h.Component{constructor(e){super(e),this.init=async()=>{console.log(d.b),window.ethereum&&await d.c.eth.getAccounts((t,e)=>{this.setState({address:e[0]})})},this.setInput1=t=>{this.setState({input1:t.target.value})},this.cancle=()=>{},this.submit=async()=>{""!=this.state.input1&&(this.setState({loading:!0}),d.b.Nodes.methods.setNoderPower(this.state.input1,this.state.power).send({from:this.state.address}).on("receipt",t=>{Object(l.a)("设置成功","success"),this.setState({loading:!1}),this.cancle()}).on("error",t=>{Object(l.a)("取消","error")}),this.setState({loading:!1}))},this.submit1=async()=>{const e=await d.b.PoolFomo.methods.distrubutedTime().call(),s=(await d.c.eth.getBlock("latest")).timestamp;console.log(e),console.log(s),s>e?d.b.PoolFomo.methods.restartTick().send({from:this.state.address}).on("receipt",t=>{Object(l.a)("设置成功","success")}).on("error",t=>{Object(l.a)("取消","error")}):Object(l.a)(t.t("倒计时未结束"),"error")},this.state={address:"",loading:!1,input1:"",input2:"",power:"1"}}async componentDidMount(){await this.init()}render(){const t=this.state;return Object(u.jsx)("div",{className:"ido",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{className:"title",children:"添加节点分红"}),Object(u.jsxs)("div",{className:"same-item",children:["地址：",Object(u.jsx)(r.a,{value:t.input1,onInput:this.setInput1})]}),Object(u.jsxs)("div",{className:"same-item",children:["权重：",Object(u.jsxs)(c.a,{defaultValue:t.power,children:[Object(u.jsx)(c.a.Option,{value:"1",children:"有"}),Object(u.jsx)(c.a.Option,{value:"0",children:"无"})]})]}),Object(u.jsx)("div",{className:"item",id:"language-change",children:Object(u.jsx)(a.a,{loading:t.loading,className:"same-btn",onClick:this.submit,children:"添加"})})]})})}}}.call(this,s(22))},1065:function(t,e,s){}}]);